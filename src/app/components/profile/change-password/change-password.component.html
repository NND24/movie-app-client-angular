<app-header />

<div
  class="bg-[#1a1c22] w-[90%] sm:w-[80%] md:w-[70%] lg:w-[50%] h-max p-3 mx-auto mt-[70px]"
>
  <h1 class="text-[#fff] font-bold text-[22px] mobile-m:text-[26px] mb-2">
    Quản lý tài khoản
  </h1>

  <div class="flex text-white font-medium text-[13px] mobile-m:text-[16px]">
    <span
      class="text-[#ffffff85] cursor-pointer py-1 px-2 mobile-m:px-3 hover:bg-[#ffffff2c]"
      (click)="switchPage()"
    >
      Chỉnh sửa thông tin
    </span>
    <span
      class="text-[#fff] cursor-pointer py-1 px-2 mobile-m:px-3 hover:bg-[#ffffff2c]"
      style="border-bottom: #00dc5a 3px solid"
    >
      Cài đặt tài khoản
    </span>
  </div>

  <div class="mt-3">
    <h3 class="text-[#fff] text-[18px] mobile-m:text-[20px] font-medium">
      Đổi mật khẩu
    </h3>

    <div class="w-full pl-2 mobile-l:pl-4 sm:pl-5 pt-3">
      <form [formGroup]="passwordForm" (submit)="onSubmit()">
        <div class="m-auto block pb-4 text-[#fff]">
          <div class="w-[100%] mb-4">
            <label class="block pb-1">Mật khẩu hiện tại</label>
            <input
              type="password"
              formControlName="oldPassword"
              [class.border-red-500]="
                oldPassword?.invalid && oldPassword?.touched
              "
              class="bg-transparent border rounded h-[40px] px-2 outline-none mt-[0px] font-Poppins !w-[95%] !text-[#fff]"
              required
            />
            <div
              class="text-red-500 text-sm mt-1"
              *ngIf="oldPassword?.invalid && oldPassword?.touched"
            >
              <span *ngIf="oldPassword?.errors?.['required']"
                >Please enter your old password!</span
              >
            </div>
          </div>
          <div class="w-[100%] pt-3 mb-4">
            <label class="block pb-1">Mật khẩu mới</label>
            <input
              type="password"
              formControlName="newPassword"
              [class.border-red-500]="
                newPassword?.invalid && newPassword?.touched
              "
              class="bg-transparent border rounded h-[40px] px-2 outline-none mt-[0px] font-Poppins !w-[95%] !text-[#fff]"
              required
            />
            <div
              class="text-red-500 text-sm mt-1"
              *ngIf="newPassword?.invalid && newPassword?.touched"
            >
              <span *ngIf="newPassword?.errors?.['required']"
                >Please enter your new password!</span
              >
              <span *ngIf="newPassword?.errors?.['minlength']"
                >Password must be at least 6 characters!</span
              >
            </div>
          </div>
          <div class="w-[100%] pt-3 mb-4">
            <label class="block pb-1">Nhập lại mật khẩu</label>
            <input
              type="password"
              formControlName="confirmPassword"
              [class.border-red-500]="
                confirmPassword?.invalid && confirmPassword?.touched && passwordForm.errors?.['passwordMismatch']
              "
              class="bg-transparent border rounded h-[40px] px-2 outline-none mt-[0px] font-Poppins !w-[95%] !text-[#fff]"
              required
            />
            <div
              class="text-red-500 text-sm mt-1"
              *ngIf="confirmPassword?.invalid && confirmPassword?.touched"
            >
              <span *ngIf="confirmPassword?.errors?.['required']"
                >Please enter your confirm password!</span
              >
              <span *ngIf="confirmPassword?.errors?.['minlength']"
                >Password must be at least 6 characters!</span
              >
            </div>
            <div
              *ngIf="
                passwordForm.errors?.['passwordMismatch'] && passwordForm.touched
              "
              class="text-red-500 text-sm"
            >
              Mật khẩu xác nhận không khớp với mật khẩu cũ.
            </div>
          </div>
          <input
            type="submit"
            value="Cập nhật"
            required
            class="w-[40%] h-[40px] border border-[#37a39a] text-center dark:text-[#fff] text-black rounded-[3px] mt-4 cursor-pointer"
          />
        </div>
      </form>
    </div>
  </div>

  <br />
</div>
